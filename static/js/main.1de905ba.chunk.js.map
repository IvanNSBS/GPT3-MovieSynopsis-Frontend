{"version":3,"sources":["Loading.styles.tsx","Loading.tsx","App.styles.tsx","AppTabs.tsx","GeneratorFetch.ts","TagSelector.styles.tsx","TagSelector.tsx","App.tsx","index.tsx"],"names":["Text","styled","span","LoadingIcon","AiOutlineLoading3Quarters","TextWrapper","div","LoadingScreen","AppContainer","LabelField","InputLabel","label","Output","TabsWrapper","TitleInput","input","TabButton","button","tabsModel","ModelTab","props","onClick","onCLick","children","AppTabs","clickTab","model","showTags","toggleTags","SpecificGenerator","a","undefined","apiKey","console","log","postProps","temp","temperature","title","prompt","tagList","tags","length","i","params","onStartGenerating","axios","post","headers","Authorization","then","res","data","onGenerationComplete","choices","text","catch","e","alert","TagSelect","Select","value","TagSelector","useState","selected","setSelected","className","placeholder","filter","obj","includes","options","onChange","values","Array","isArray","map","x","setTags","isMulti","isClearable","App","token","setToken","setApiKey","setTemp","setPrompt","setShowTags","generating","setGenerating","setModel","parseFloat","txt","output","htmlFor","name","type","target","place","effect","id","min","max","step","Loading","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1de905ba.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport { AiOutlineLoading3Quarters } from 'react-icons/ai';\r\n\r\nconst Text = styled.span`\r\n    user-select: none;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    font-size: 1.3em;\r\n`\r\n\r\nconst LoadingIcon = styled(AiOutlineLoading3Quarters)`\r\n    width : 1.1em;\r\n    height: 1.1em;\r\n    fill: black;\r\n    animation: loading 4s linear infinite;\r\n    @keyframes loading {\r\n        to { transform: rotate(360deg); }\r\n    }\r\n`\r\n\r\nconst TextWrapper = styled.div`\r\n    display: inline-flex;\r\n    flex-direction: row;\r\n    column-gap: 20px;\r\n    width: 100%;\r\n    align-content: flex-start;\r\n    justify-content: center;\r\n    text-align: left;\r\n`\r\n\r\nexport { Text, LoadingIcon, TextWrapper }","import React from \"react\";\r\nimport { TextWrapper, Text, LoadingIcon } from \"./Loading.styles\";\r\n\r\nconst LoadingScreen: React.FC = function() \r\n{\r\n    return (\r\n        <TextWrapper>\r\n            <Text>Generating...</Text>\r\n            <LoadingIcon/>\r\n        </TextWrapper>\r\n    );\r\n}\r\n\r\nexport default LoadingScreen;","import styled from \"styled-components\";\r\n\r\nconst AppContainer = styled.div`\r\n    margin-top: 5%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    align-content: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst LabelField = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 1.3em;\r\n    padding-bottom: 8px;\r\n`;\r\n\r\nconst InputLabel = styled.label`\r\n    margin-right: 25px;\r\n`\r\n\r\nconst Output = styled.div`\r\n    padding: 20px 5%;\r\n    font-size: 1.5em;\r\n`;\r\n\r\nconst TabsWrapper = styled.div`\r\n    width: 100%;\r\n    padding-bottom: 20px;\r\n    display: flex;\r\n    align-items: flex-start;\r\n`\r\n\r\nconst TitleInput = styled.input`\r\n    width: 340px;\r\n    max-width: 340px;\r\n    padding-left: 10px;\r\n    border: 1px solid #93999e;\r\n    border-radius: 4px;\r\n    height: 38px;\r\n`\r\n\r\nconst TabButton = styled.button`\r\n\r\n`\r\n\r\nexport { AppContainer, LabelField, Output, TabsWrapper, TabButton, TitleInput, InputLabel }","import React from \"react\";\r\n\r\nimport {\r\n    TabsWrapper,\r\n    TabButton\r\n} from './App.styles';\r\n\r\nconst tabsModel = {\r\n    'comedy': \"babbage:ft-ufpe-2021-12-04-17-04-13\",\r\n    'horror': \"babbage:ft-ufpe-2021-12-08-02-32-35\",\r\n    'general': \"curie:ft-ufpe-2021-12-04-00-24-56\"\r\n};\r\n\r\nconst ModelTab: React.FC<{onCLick():void}> = function(props)\r\n{ \r\n    return (\r\n        <TabButton onClick={() => props.onCLick()} >{props.children}</TabButton>         \r\n    );\r\n} \r\n\r\nconst AppTabs: React.FC<{onClick(model:string):void, toggleTags(value: boolean):void}> = function(props)\r\n{\r\n    const clickTab = function (model: string, showTags: boolean)\r\n    { \r\n        props.onClick(model);\r\n        props.toggleTags(showTags);\r\n    }\r\n\r\n    return (\r\n        <TabsWrapper>\r\n            <ModelTab onCLick={() => clickTab(tabsModel.comedy, false)}>Comedy</ModelTab>         \r\n            <ModelTab onCLick={() => clickTab(tabsModel.horror, false)}>Horror</ModelTab>         \r\n            <ModelTab onCLick={() => clickTab(tabsModel.general, true)}>General</ModelTab>         \r\n        </TabsWrapper>\r\n    )\r\n}\r\n\r\nexport default AppTabs;\r\nexport { tabsModel }","import axios, { AxiosError } from 'axios';\r\nimport { tabsModel } from './AppTabs'\r\n\r\ninterface PostProps\r\n{\r\n    title: string,\r\n    temperature: number,\r\n    tags: string[] | undefined;\r\n}\r\n\r\ninterface GeneratorInterface\r\n{\r\n    model: string;\r\n    apiKey: string | undefined;\r\n    postProps: PostProps;\r\n    onStartGenerating(): void;\r\n    onGenerationComplete(text: string): void\r\n}\r\n\r\nconst url = \"https://api.openai.com/v1/completions\";\r\n\r\nconst SpecificGenerator = async function (props: GeneratorInterface)\r\n{\r\n    if (props.apiKey === undefined)\r\n    {\r\n        console.log(\"No COLAB API key for project. Can't submit a request\")\r\n        return \"\";\r\n    }\r\n    \r\n    const postProps = props.postProps;\r\n    const temp = postProps.temperature;\r\n    const title = postProps.title;\r\n\r\n    let prompt = title + ' ->';\r\n    if (props.model === tabsModel.general)\r\n    {\r\n        let tagList = '';\r\n        if (postProps.tags !== undefined && postProps.tags.length > 0)\r\n        { \r\n            for (let i = 0; i < postProps.tags.length-1; i++)\r\n                tagList += postProps.tags[i] + ', ';\r\n            \r\n            tagList += postProps.tags[postProps.tags.length - 1] + ' ->';\r\n        }\r\n\r\n        prompt = `title=${title}, tags=${tagList}`\r\n        console.log(\"prompt: \"+ prompt);\r\n    }\r\n\r\n    let params = {\r\n        \"prompt\": prompt,\r\n        \"model\": props.model,\r\n        \"max_tokens\": 200,\r\n        \"temperature\": temp,\r\n        \"top_p\": 1,\r\n        \"n\": 1,\r\n        \"stream\": false,\r\n        \"logprobs\": null,\r\n        \"stop\": \"+++\"\r\n    };\r\n    \r\n    props.onStartGenerating();\r\n\r\n    await axios.post(url, params, { headers: { Authorization: props.apiKey}})\r\n    .then(res => {\r\n        console.log(res.data);\r\n        props.onGenerationComplete(res.data.choices[0].text);\r\n    })\r\n    .catch((e: AxiosError) => {\r\n        alert(e);\r\n        props.onGenerationComplete(\"\");\r\n        return \"\";\r\n    })\r\n\r\n    return \"\";\r\n}\r\n\r\nexport { SpecificGenerator }","import styled from \"styled-components\";\r\nimport Select from 'react-select';\r\n\r\nconst TagSelect = styled(Select)`\r\n    user-select: none;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    font-size: 14px;\r\n    width: 350px;\r\n    max-width: 350px;\r\n    margin-bottom: 15px;\r\n`\r\n\r\nexport { TagSelect }","import React, { useState } from \"react\";\r\nimport { TagSelect } from './TagSelector.styles'\r\n\r\n\r\nconst tags = [\r\n    { value: 'flashback', label: 'Flashback'},\r\n    { value: 'romantic', label: 'Romantic'},\r\n    { value: 'cult', label: 'Cult'},\r\n    { value: 'psychedelic', label: 'Pshychedelic'},\r\n    { value: 'suspenseful', label: 'Suspenseful'},\r\n    { value: 'goodversusevil', label: 'Good v Evil' },\r\n    { value: 'action', label: 'Action'},\r\n    { value: 'fantasy', label: 'Fantasy'},\r\n    { value: 'storytelling', label: 'Storytelling'},\r\n    { value: 'psychological', label: 'Psychological'},\r\n    { value: 'historical', label: 'Historical'},\r\n    { value: 'absurd', label: 'Absurd'},\r\n    { value: 'prank', label: 'Prank'},\r\n    { value: 'sentimental', label: 'Sentimental'},\r\n    { value: 'philosophical', label: 'Philosofical'},\r\n    { value: 'avantgarde', label: 'Avantgarde'},\r\n    { value: 'bleak', label: 'Bleak'}\r\n];\r\n\r\nconst TagSelector: React.FC<{setTags(value: string[]): void}> = function (props)\r\n{\r\n    const [selected, setSelected] = useState<string[]>([]);\r\n    const handleChange = function (e: any)\r\n    {\r\n        console.log(e);\r\n\r\n        if (e.length <= 3)\r\n        {\r\n            const values: string[] = Array.isArray(e) ? e.map(x => x.value) : [];\r\n            console.log(values);\r\n            setSelected(values);\r\n            props.setTags(values);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <TagSelect\r\n            className=\"dropdown\"\r\n            placeholder=\"Select Option\"\r\n            value={tags.filter(obj => selected.includes(obj.value))} // set selected values\r\n            options={tags} // set list of the data\r\n            onChange={handleChange} // assign onChange function\r\n            isMulti\r\n            isClearable\r\n        />\r\n    );\r\n}\r\n\r\nexport default TagSelector;","import React, { useState } from \"react\";\nimport LoadingScreen from './Loading';\nimport { SpecificGenerator } from \"./GeneratorFetch\";\n\nimport {\n  AppContainer,\n  InputLabel,\n  LabelField,\n  Output,\n  TitleInput,\n} from './App.styles';\n\nimport ReactTooltip from \"react-tooltip\";\nimport AppTabs from \"./AppTabs\";\nimport TagSelector from \"./TagSelector\";\n\nconst App: React.FC = function ()\n{\n  const [token, setToken] = useState(\"\");\n  const [apiKey, setApiKey] = useState<string | undefined>(\"\");\n  \n  const [temp, setTemp] = useState<string>(\"1\");\n  const [prompt, setPrompt] = useState<string>(\"Once upon a time\");\n  const [showTags, setShowTags] = useState<boolean>(false);\n  const [tags, setTags] = useState<string[] | undefined>(undefined);\n\n  const [generating, setGenerating] = useState<number>(-1);\n\n  const [model, setModel] = useState<string>(\"babbage:ft-ufpe-2021-12-04-17-04-13\");\n\n  const post = async function()\n  {\n    const props =\n    {\n      model: model,\n      apiKey: apiKey,\n      postProps: {\n        title: prompt,\n        temperature: parseFloat(temp),\n        tags: showTags ? tags : undefined\n      },\n      onStartGenerating: () => setGenerating(1),\n      onGenerationComplete: (txt: string) => { setToken(txt); setGenerating(0); }\n    }\n\n    SpecificGenerator(props);\n  }\n\n  let output = '';\n  if (generating === 1)\n    output = 'Gerando...'\n  else if (generating === 0)\n    output = token;\n  else\n    output = '';\n  \n  return (\n    <AppContainer>\n      \n      <div>\n        <AppTabs onClick={setModel} toggleTags={setShowTags}/>\n        \n        <LabelField>\n          <InputLabel htmlFor='apikey'>API Key</InputLabel>\n          <TitleInput name='apikey' type='text' value={apiKey} onChange={ e => setApiKey(e.target.value) }/>\n        </LabelField>\n        <LabelField>\n          <InputLabel htmlFor='input-prompt' data-for=\"title\" data-tip=\"Movie Title\">Title</InputLabel>\n          <ReactTooltip place=\"top\" type=\"dark\" effect=\"float\" id=\"title\"/>\n          <TitleInput name='input-prompt' type='text' value={prompt} onChange={ e => setPrompt(e.target.value) }/>\n        </LabelField>\n        { showTags &&\n          <LabelField>\n            <InputLabel htmlFor='tags'>Tags</InputLabel>\n            <TagSelector setTags={setTags}/>\n          </LabelField>\n        }\n        <LabelField>\n          <InputLabel htmlFor='input-temp'>Temperature</InputLabel>\n          <TitleInput name='input-temp' type='range' min='0' max='1' step='0.01' onChange={e => setTemp(e.target.value)} />\n          <label>{ temp }</label>\n        </LabelField>\n    \n      </div>\n\n      <button onClick={post}>Gimme Me A New Oscar</button>\n      \n      <Output>\n        {generating === 1\n          ? <LoadingScreen />\n          : output\n        }\n      </Output>\n\n    </AppContainer>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}